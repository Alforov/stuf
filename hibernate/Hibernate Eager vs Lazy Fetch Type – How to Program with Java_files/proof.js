function sendToProof(e){var t=syncFrame.contentWindow;t.postMessage(e,"https://cdn.getmoreproof.com")}function receiveProofEvents(){window.addEventListener?window.addEventListener("message",parseEvent,!1):window.attachEvent("onmessage",parseEvent)}function parseEvent(e){var t;if("https://cdn.getmoreproof.com"!==e.origin)t="Source is not authorized";else try{t=JSON.parse(e.data),"show"==t.state&&slideUp(),"hide"==t.state&&slideDown()}catch(n){}}function param(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||void 0}function allParams(e){var t=e?decodeURIComponent(e.split("?")[1]):decodeURIComponent(window.location.search.slice(1)),n={};if(t){t=t.split("#")[0];for(var o=t.split("&"),r=0;r<o.length;r++){var a=o[r].split("="),i=void 0,s=a[0].replace(/\[\d*\]/,function(e){return i=e.slice(1,-1),""}),d="undefined"==typeof a[1]?!0:a[1];s=s.toLowerCase(),d=d.toLowerCase(),n[s]?("string"==typeof n[s]&&(n[s]=[n[s]]),"undefined"==typeof i?n[s].push(d):n[s][i]=d):n[s]=d}}return n}function slideUp(){var e=document.getElementById("proof");e.classList.remove("hide-proof"),e.classList.add("show-proof")}function slideDown(){var e=document.getElementById("proof");e.classList.remove("show-proof"),e.classList.add("hide-proof")}function addParam(e,t,n){return n&&void 0!=n&&"undefined"!=n?e+(e.indexOf("?")>=0?"&":"?")+t+"="+n:e}function buildURL(e,t){var n=e;for(var o in t)t.hasOwnProperty(o)&&(n=addParam(n,o,t[o]));return n}function bindAllInputs(){for(var e=document.getElementsByTagName("input"),t=0;t<e.length;t++)("email"==e[t].type.toLowerCase()||"text"==e[t].type.toLowerCase())&&syncInput(e[t])}function syncInput(e){e.addEventListener("input",function(){"email"==e.type.toLowerCase()&&isValidEmail(e.value)||"email"==e.name.toLowerCase()&&isValidEmail(e.value)?sendToProof(JSON.stringify({value:e.value,type:e.type,name:e.name,job_type:"sync"})):"text"==e.type.toLowerCase()&&e.checkValidity()&&sendToProof(JSON.stringify({value:e.value,type:e.type,name:e.name,job_type:"sync"}))}),e.addEventListener("blur",function(){trackConversion()}),e.addEventListener("keydown",function(e){13==e.keyCode&&trackConversion()})}function trackConversion(){sendToProof({job_type:"submit"})}function trim(e){return e.replace(/^\s+|\s+$/,"")}function isValidEmail(e){if(e){var t=trim(e),n=/^[^@]+@[^@.]+\.[^@]*\w\w$/,o=/[\(\)\<\>\,\;\:\\\"\[\]]/;return""==e?!1:n.test(t)?e.match(o)?!1:!0:!1}return!1}!function(){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.media="all";var t=(new Date).getTime();e.href="https://cdn.getmoreproof.com/embed/latest/proof.css?"+t,document.getElementsByTagName("head")[0].appendChild(e);var n="https://cdn.getmoreproof.com/alert/latest/index.html",o=buildURL(n,{url:encodeURIComponent(window.location.href),acc:proof_config.acc,utm_source:param("utm_source"),utm_campaign:param("utm_campaign"),utm_medium:param("utm_medium"),utm_content:param("utm_content"),utm_term:param("utm_term"),ref:encodeURIComponent(document.referrer),ref_domain:encodeURIComponent(document.referrer.split("/")[2]),email:param("email")}),r=document.createElement("iframe");window.syncFrame=r,r.id="proof",r.frameBorder=0,r.style.display="none",r.src=o;var a=document.getElementsByTagName("script"),i=a.length-1,s=a[i];s.parentNode.insertBefore(r,s),receiveProofEvents(),bindAllInputs()}(this);